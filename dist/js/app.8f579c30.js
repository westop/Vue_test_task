(function(){"use strict";var t={5929:function(t,e,o){var n=o(9242),s=o(3396);const a={class:"app"};function r(t,e,o,n,r,i){const l=(0,s.up)("navbar"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l),(0,s._)("div",a,[(0,s.Wm)(u)])],64)}o(7658);const i={class:"navbar"},l={class:"navbar__btns"};function u(t,e,o,n,a,r){const u=(0,s.up)("my-button");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",{onClick:e[0]||(e[0]=e=>t.$router.push("/"))},"Vue 3"),(0,s._)("div",l,[(0,s.Wm)(u,{style:{"margin-left":"20px"},onClick:e[1]||(e[1]=e=>t.$router.push("/map"))},{default:(0,s.w5)((()=>[(0,s.Uk)("Карта")])),_:1}),(0,s.Wm)(u,{style:{"margin-left":"20px"},onClick:e[2]||(e[2]=e=>t.$router.push("/posts"))},{default:(0,s.w5)((()=>[(0,s.Uk)("Посты")])),_:1}),(0,s.Wm)(u,{style:{"margin-left":"20px"},onClick:e[3]||(e[3]=e=>t.$router.push("/about"))},{default:(0,s.w5)((()=>[(0,s.Uk)("О сайте")])),_:1})])])}var c={},d=o(89);const p=(0,d.Z)(c,[["render",u],["__scopeId","data-v-05fb7f60"]]);var m=p,h={components:{Navbar:m}};const f=(0,d.Z)(h,[["render",r]]);var g=f;const v={class:"btn"};function y(t,e,o,n,a,r){return(0,s.wg)(),(0,s.iD)("button",v,[(0,s.WI)(t.$slots,"default",{},void 0,!0)])}var _={name:"my-button"};const b=(0,d.Z)(_,[["render",y],["__scopeId","data-v-4a35233b"]]);var w=b;const k=["value"];function P(t,e,o,n,a,r){return(0,s.wg)(),(0,s.iD)("input",{value:o.modelValue,onInput:e[0]||(e[0]=(...t)=>r.updateInput&&r.updateInput(...t)),class:"input",type:"text"},null,40,k)}var C={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(t){this.$emit("update:modelValue",t.target.value)}}};const D=(0,d.Z)(C,[["render",P],["__scopeId","data-v-0c401ab1"]]);var O=D;function j(t,e,o,a,r,i){return t.show?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"dialog",onClick:e[1]||(e[1]=(0,n.iM)(((...e)=>t.hideDialog&&t.hideDialog(...e)),["stop"]))},[(0,s._)("div",{onClick:e[0]||(e[0]=(0,n.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,s.WI)(t.$slots,"default",{},void 0,!0)])])):(0,s.kq)("",!0)}var L={props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}},mounted(){console.log("mixin mounted")}},I={name:"my-dialog",mixins:[L],mounted(){console.log("dialog mounted")}};const V=(0,d.Z)(I,[["render",j],["__scopeId","data-v-3f4386d6"]]);var M=V,S=[w,O,M];const x=(0,s._)("h1",null,"Добро пожаловать на курс по Vue 3",-1),$=[x];function W(t,e,o,n,a,r){return(0,s.wg)(),(0,s.iD)("div",null,$)}var U={};const Z=(0,d.Z)(U,[["render",W]]);var A=Z,z=o(2483),T=o(7139);const Q=(0,s._)("h1",null,"Страница с постами",-1),E={key:1},R={class:"app__btns"},H={key:3},K={class:"page__wrapper"},N=["onClick"];function B(t,e,o,n,a,r){const i=(0,s.up)("Bar"),l=(0,s.up)("my-input"),u=(0,s.up)("my-button"),c=(0,s.up)("my-select"),d=(0,s.up)("post-form"),p=(0,s.up)("my-dialog"),m=(0,s.up)("post-list"),h=(0,s.Q2)("focus");return(0,s.wg)(),(0,s.iD)("div",null,[Q,a.isChartLoading?((0,s.wg)(),(0,s.iD)("div",E,"Идет загрузка...")):((0,s.wg)(),(0,s.j4)(i,{key:0,data:t.$data,options:t.$options},null,8,["data","options"])),(0,s.wy)((0,s.Wm)(l,{modelValue:a.searchQuery,"onUpdate:modelValue":e[0]||(e[0]=t=>a.searchQuery=t),placeholder:"Поиск...."},null,8,["modelValue"]),[[h]]),(0,s._)("div",R,[(0,s.Wm)(u,{onClick:r.showDialog},{default:(0,s.w5)((()=>[(0,s.Uk)(" Создать пользователя ")])),_:1},8,["onClick"]),(0,s.Wm)(c,{modelValue:a.selectedSort,"onUpdate:modelValue":e[1]||(e[1]=t=>a.selectedSort=t),options:a.sortOptions},null,8,["modelValue","options"])]),(0,s.Wm)(p,{show:a.dialogVisible,"onUpdate:show":e[2]||(e[2]=t=>a.dialogVisible=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{onCreate:r.createPost},null,8,["onCreate"])])),_:1},8,["show"]),a.isPostsLoading?((0,s.wg)(),(0,s.iD)("div",H,"Идет загрузка...")):((0,s.wg)(),(0,s.j4)(m,{key:2,posts:r.sortedAndSearchedPosts,onRemove:r.removePost},null,8,["posts","onRemove"])),(0,s._)("div",K,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.totalPages,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:(0,T.C_)(["page",{"current-page":a.page===t}]),onClick:e=>r.changePage(t)},(0,T.zw)(t),11,N)))),128))])])}const Y=t=>((0,s.dD)("data-v-381b695e"),t=t(),(0,s.Cn)(),t),q=Y((()=>(0,s._)("h4",null,"Создание поста",-1)));function F(t,e,o,a,r,i){const l=(0,s.up)("my-input"),u=(0,s.up)("my-button"),c=(0,s.Q2)("focus");return(0,s.wg)(),(0,s.iD)("form",{onSubmit:e[2]||(e[2]=(0,n.iM)((()=>{}),["prevent"]))},[q,(0,s.wy)((0,s.Wm)(l,{modelValue:r.post.title,"onUpdate:modelValue":e[0]||(e[0]=t=>r.post.title=t),type:"text",placeholder:"Название"},null,8,["modelValue"]),[[c]]),(0,s.Wm)(l,{modelValue:r.post.body,"onUpdate:modelValue":e[1]||(e[1]=t=>r.post.body=t),type:"text",placeholder:"Описание"},null,8,["modelValue"]),(0,s.Wm)(u,{style:{"align-self":"flex-end","margin-top":"15px"},onClick:i.createPost},{default:(0,s.w5)((()=>[(0,s.Uk)(" Создать ")])),_:1},8,["onClick"])],32)}var G={data(){return{post:{title:"",body:""}}},methods:{createPost(){this.post.id=Date.now(),this.$emit("create",this.post),this.post={title:"",body:""}}}};const J=(0,d.Z)(G,[["render",F],["__scopeId","data-v-381b695e"]]);var X=J;const tt=t=>((0,s.dD)("data-v-e1996b82"),t=t(),(0,s.Cn)(),t),et={key:0},ot=tt((()=>(0,s._)("h3",null,"Список пользователей",-1))),nt={key:1,style:{color:"red"}};function st(t,e,o,a,r,i){const l=(0,s.up)("post-item");return o.posts.length>0?((0,s.wg)(),(0,s.iD)("div",et,[ot,(0,s.Wm)(n.W3,{name:"user-list"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.posts,(e=>((0,s.wg)(),(0,s.j4)(l,{post:e,key:e.id,onRemove:o=>t.$emit("remove",e)},null,8,["post","onRemove"])))),128))])),_:1})])):((0,s.wg)(),(0,s.iD)("h2",nt," Список пользователей пуст "))}const at=t=>((0,s.dD)("data-v-7554e367"),t=t(),(0,s.Cn)(),t),rt={class:"post"},it=at((()=>(0,s._)("strong",null,"Номер поста:",-1))),lt=at((()=>(0,s._)("strong",null,"Нейм користувача:",-1))),ut=at((()=>(0,s._)("strong",null,"Кількість коментарів:",-1))),ct=at((()=>(0,s._)("strong",null,"Заголовок:",-1))),dt=at((()=>(0,s._)("strong",null,"Текст:",-1))),pt={class:"post__btns"};function mt(t,e,o,n,a,r){const i=(0,s.up)("my-button");return(0,s.wg)(),(0,s.iD)("div",rt,[(0,s._)("div",null,[(0,s._)("div",null,[it,(0,s.Uk)((0,T.zw)(o.post.id),1)]),(0,s._)("div",null,[lt,(0,s.Uk)((0,T.zw)(o.post.userId),1)]),(0,s._)("div",null,[ut,(0,s.Uk)((0,T.zw)(o.post.totalComment),1)]),(0,s._)("div",null,[ct,(0,s.Uk)(" "+(0,T.zw)(o.post.title),1)]),(0,s._)("div",null,[dt,(0,s.Uk)(" "+(0,T.zw)(o.post.body),1)])]),(0,s._)("div",pt,[(0,s.Wm)(i,{onClick:e[0]||(e[0]=e=>t.$router.push(`/posts/${o.post.id}`))},{default:(0,s.w5)((()=>[(0,s.Uk)(" Открыть ")])),_:1}),(0,s.Wm)(i,{onClick:e[1]||(e[1]=e=>t.$emit("remove",o.post))},{default:(0,s.w5)((()=>[(0,s.Uk)(" Удалить ")])),_:1})])])}var ht={props:{post:{type:Object,required:!0}}};const ft=(0,d.Z)(ht,[["render",mt],["__scopeId","data-v-7554e367"]]);var gt=ft,vt={components:{PostItem:gt},props:{posts:{type:Array,required:!0}}};const yt=(0,d.Z)(vt,[["render",st],["__scopeId","data-v-e1996b82"]]);var _t=yt,bt=o(6943);const wt=["value"],kt=(0,s._)("option",{disabled:"",value:""},"Выберите из списка",-1),Pt=["value"];function Ct(t,e,o,n,a,r){return(0,s.wg)(),(0,s.iD)("select",{value:o.modelValue,onChange:e[0]||(e[0]=(...t)=>r.changeOption&&r.changeOption(...t))},[kt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.value,value:t.value},(0,T.zw)(t.name),9,Pt)))),128))],40,wt)}var Dt={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]}},methods:{changeOption(t){this.$emit("update:modelValue",t.target.value)}}};const Ot=(0,d.Z)(Dt,[["render",Ct]]);var jt=Ot,Lt=o(9646),It=o(5866);Lt.kL.register(Lt.uw,Lt.f$,Lt.ZL,Lt.Dx,Lt.u,Lt.De);var Vt={name:"App",components:{MyInput:O,MySelect:jt,MyButton:w,PostList:_t,PostForm:X,Bar:It.$Q},data(){return{posts:[],comments:[],userAll:[],dialogVisible:!1,isChartLoading:!1,isPostsLoading:!1,selectedSort:"",searchQuery:"",page:1,limit:10,totalPages:0,sortOptions:[{value:"title",name:"At title"},{value:"body",name:"At body"}],labels:[],datasets:[],symvolInMail:[]}},methods:{createPost(t){this.posts.push(t),this.dialogVisible=!1},removePost(t){this.posts=this.posts.filter((e=>e.id!==t.id))},showDialog(){this.dialogVisible=!0},changePage(t){this.page=t},async fetchData(){try{this.posts=[],this.isChartLoading=!0,this.isPostsLoading=!0;const t=await bt.Z.get("https://jsonplaceholder.typicode.com/posts",{params:{_page:this.page,_limit:this.limit}}),e=await bt.Z.get("http://jsonplaceholder.typicode.com/comments");this.comments=e.data,this.totalPages=Math.ceil(t.headers["x-total-count"]/this.limit),this.userAll=t.data}catch(t){alert("error")}finally{this.userAll.forEach((t=>{let e=0;for(const n of this.comments)t.userId==n.postId&&e++;const o={id:t.id,userId:t.userId,totalComment:e,title:t.title,body:t.body};this.posts.push(o)})),this.comments.forEach((t=>{this.labels.push(t.id);let e=t.email.length;this.symvolInMail.push(e)}));const t={data:this.symvolInMail};this.datasets.push(t),this.isChartLoading=!1,this.isPostsLoading=!1}}},mounted(){this.fetchData()},computed:{sortedPosts(){return[...this.posts].sort(((t,e)=>t[this.selectedSort]?.localeCompare(e[this.selectedSort])))},sortedAndSearchedPosts(){return this.sortedPosts.filter((t=>t.title.toLowerCase().includes(this.searchQuery.toLowerCase())))}},watch:{page(){this.fetchData()}},options:{responsive:!0}};const Mt=(0,d.Z)(Vt,[["render",B]]);var St=Mt;const xt=(0,s._)("h1",null,"Данное приложение было создано в результате обучения на канале Ulbi TV",-1),$t=[xt];function Wt(t,e,o,n,a,r){return(0,s.wg)(),(0,s.iD)("div",null,$t)}var Ut={};const Zt=(0,d.Z)(Ut,[["render",Wt]]);var At=Zt;function zt(t,e,o,n,a,r){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h1",null,"Это страница поста с ID = "+(0,T.zw)(t.$route.params.id),1)])}var Tt={};const Qt=(0,d.Z)(Tt,[["render",zt]]);var Et=Qt;function Rt(t,e,o,n,a,r){const i=(0,s.up)("l-tile-layer"),l=(0,s.up)("l-popup"),u=(0,s.up)("l-marker"),c=(0,s.up)("l-map");return(0,s.wg)(),(0,s.j4)(c,{id:"map",zoom:a.zoom,center:a.center,onReady:e[0]||(e[0]=t=>r.onMapReady()),onClick:r.addMarker},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{url:a.url},null,8,["url"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.markers,(t=>((0,s.wg)(),(0,s.j4)(u,{ref_for:!0,ref:"marker",key:t,"lat-lng":t.latlng},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{ref_for:!0,ref:"popup"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,T.zw)(t.title),1)])),_:2},1536)])),_:2},1032,["lat-lng"])))),128))])),_:1},8,["zoom","center","onClick"])}var Ht=o(4575),Kt={components:{LMap:Ht.iA,LTileLayer:Ht.Hw,LMarker:Ht.$R,LPopup:Ht.Q2},mounted(){},data(){return{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",zoom:6,center:[48.3794,31.1656],markers:[{title:"Kharkiv",latlng:[49.9935,36.2304]},{title:"Kyiv",latlng:[50.4501,30.5234]},{title:"Lviv",latlng:[49.8397,24.0297]}]}},methods:{onMapReady(t){this.$nextTick((()=>{this.$refs.map.leafletObject}))},addMarker(t){this.markers.push({latlng:t.latlng})}}};const Nt=(0,d.Z)(Kt,[["render",Rt]]);var Bt=Nt;const Yt=[{path:"/",component:A},{path:"/map",component:Bt},{path:"/posts",component:St},{path:"/about",component:At},{path:"/posts/:id",component:Et}],qt=(0,z.p7)({routes:Yt,history:(0,z.PO)("/")});var Ft=qt,Gt={mounted(t){t.focus()},name:"focus"},Jt={mounted(t,e){const o={rootMargin:"0px",threshold:1},n=(t,o)=>{t[0].isIntersecting&&e.value()},s=new IntersectionObserver(n,o);s.observe(t)},name:"intersection"},Xt=[Gt,Jt],te=o(65);const ee={state:()=>({posts:[],isPostsLoading:!1,selectedSort:"",searchQuery:"",page:1,limit:10,totalPages:0,sortOptions:[{value:"title",name:"По названию"},{value:"body",name:"По содержимому"}]}),getters:{sortedPosts(t){return[...t.posts].sort(((e,o)=>e[t.selectedSort]?.localeCompare(o[t.selectedSort])))},sortedAndSearchedPosts(t,e){return e.sortedPosts.filter((e=>e.title.toLowerCase().includes(t.searchQuery.toLowerCase())))}},mutations:{setPosts(t,e){t.posts=e},setLoading(t,e){t.isPostsLoading=e},setPage(t,e){t.page=e},setSelectedSort(t,e){t.selectedSort=e},setTotalPages(t,e){t.totalPages=e},setSearchQuery(t,e){t.searchQuery=e}},actions:{async fetchPosts({state:t,commit:e}){try{e("setLoading",!0);const o=await bt.Z.get("https://jsonplaceholder.typicode.com/posts",{params:{_page:t.page,_limit:t.limit}});e("setTotalPages",Math.ceil(o.headers["x-total-count"]/t.limit)),e("setPosts",o.data)}catch(o){console.log(o)}finally{e("setLoading",!1)}},async loadMorePosts({state:t,commit:e}){try{e("setPage",t.page+1);const o=await bt.Z.get("https://jsonplaceholder.typicode.com/posts",{params:{_page:t.page,_limit:t.limit}});e("setTotalPages",Math.ceil(o.headers["x-total-count"]/t.limit)),e("setPosts",[...t.posts,...o.data])}catch(o){console.log(o)}}},namespaced:!0};var oe=(0,te.MT)({state:{isAuth:!1},modules:{post:ee}});const ne=(0,n.ri)(g);S.forEach((t=>{ne.component(t.name,t)})),Xt.forEach((t=>{ne.directive(t.name,t)})),ne.use(Ft).use(oe).mount("#app")}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,a){if(!n){var r=1/0;for(c=0;c<t.length;c++){n=t[c][0],s=t[c][1],a=t[c][2];for(var i=!0,l=0;l<n.length;l++)(!1&a||r>=a)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(i=!1,a<r&&(r=a));if(i){t.splice(c--,1);var u=s();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,s,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};o.t=function(n,s){if(1&s&&(n=this(n)),8&s)return n;if("object"===typeof n&&n){if(4&s&&n.__esModule)return n;if(16&s&&"function"===typeof n.then)return n}var a=Object.create(null);o.r(a);var r={};t=t||[null,e({}),e([]),e(e)];for(var i=2&s&&n;"object"==typeof i&&!~t.indexOf(i);i=e(i))Object.getOwnPropertyNames(i).forEach((function(t){r[t]=function(){return n[t]}}));return r["default"]=function(){return n},o.d(a,r),a}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.f={},o.e=function(t){return Promise.all(Object.keys(o.f).reduce((function(e,n){return o.f[n](t,e),e}),[]))}}(),function(){o.u=function(t){return"js/"+t+"."+{93:"17d7257b",153:"e5b8b9c5",431:"ba50335a",858:"2103cedb",891:"8de7da52"}[t]+".js"}}(),function(){o.miniCssF=function(t){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="venture_3_visual_almanah:";o.l=function(n,s,a,r){if(t[n])t[n].push(s);else{var i,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+a){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",e+a),i.src=n),t[n]=[s];var p=function(e,o){i.onerror=i.onload=null,clearTimeout(m);var s=t[n];if(delete t[n],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(t){return t(o)})),e)return e(o)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var t={143:0};o.f.j=function(e,n){var s=o.o(t,e)?t[e]:void 0;if(0!==s)if(s)n.push(s[2]);else{var a=new Promise((function(o,n){s=t[e]=[o,n]}));n.push(s[2]=a);var r=o.p+o.u(e),i=new Error,l=function(n){if(o.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var a=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",i.name="ChunkLoadError",i.type=a,i.request=r,s[1](i)}};o.l(r,l,"chunk-"+e,e)}},o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,a,r=n[0],i=n[1],l=n[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(l)var c=l(o)}for(e&&e(n);u<r.length;u++)a=r[u],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(c)},n=self["webpackChunkventure_3_visual_almanah"]=self["webpackChunkventure_3_visual_almanah"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(5929)}));n=o.O(n)})();
//# sourceMappingURL=app.8f579c30.js.map